# -*- coding: utf-8 -*-

# І'мя файлу для спільної роботи.
FILENAME = "lb8_file.txt"

# Код, написаний Студентом 1: Медведь Анастасія КН-44/1
def create_and_write_initial_data(student_name, question):
    """
    Функція для початкового створення файлу та запису даних першого студента.
    
    Аргументи:
    student_name (str): Прізвище та ініціали студента.
    question (str): Питання для наступного студента.
    
    Ця функція використовує режим 'w' (write), який створює новий файл 
    або повністю перезаписує існуючий, якщо він вже є.
    """
    print("Початок виконання програми")
    try:
        # Використовується менеджер контексту 'with', щоб гарантувати
        # автоматичне закриття файлу після завершення операцій.
        with open(FILENAME, "w", encoding="utf-8") as file:
            print(f"Файл '{FILENAME}' успішно відкрито в режимі 'w' для запису.")
            
            # Запис рядків у файл. '\n' додає перехід на новий рядок.
            file.write(f"Студент: {student_name}\n")
            file.write("="*25 + "\n") # Рядок-розділювач
            file.write(f"Питання:\n{question}\n\n")
            
            print(f"Дані від студента '{student_name}' успішно записано.")
            
    except IOError as e:
        # Обробка виняткової ситуації, пов'язаної з помилкою вводу/виводу.
        print(f"ПОМИЛКА! Не вдалося записати дані у файл '{FILENAME}'.")
        print(f"Деталі помилки: {e}")
    except Exception as e:
        # Обробка будь-яких інших неочікуваних помилок.
        print(f"Виникла неочікувана помилка: {e}")

# Дані для запису у файл
student_1_name = "Медведь А.Б." 
student_1_question = ("Чим принципово відрізняються режими відкриття файлу 'a' (append) та 'w' (write) в Python, "
                      "і в якому випадку доцільно використовувати кожен з них?")

# Виклик функції для виконання завдання
create_and_write_initial_data(student_1_name, student_1_question)

# Код, написаний Студентом 2: Пікульов Іван КН-44/1
def add_answer_and_question(student_name, answer, next_question):
    """
    Функція для додавання відповіді другого студента та нового питання.
    
    Аргументи:
    student_name (str): Прізвище та ініціали студента.
    answer (str): Відповідь на питання попереднього студента.
    next_question (str): Питання для наступного студента.
    
    Використовується режим 'a' (append), щоб додати нові дані до кінця файлу,
    не видаляючи вже наявну інформацію.
    """
    try:
        with open(FILENAME, "a", encoding="utf-8") as file:
            print(f"Файл '{FILENAME}' відкрито в режимі 'a' для додавання записів.")
            
            file.write(f"Студент: {student_name}\n")
            file.write("="*25 + "\n")
            file.write(f"Відповідь:\n{answer}\n\n")
            file.write(f"Питання для наступного студента:\n{next_question}\n\n")
            
            print(f"Дані від студента '{student_name}' успішно додано до файлу.")
    
    except IOError as e:
        print(f"ПОМИЛКА! Не вдалося записати у файл '{FILENAME}'.")
        print(f"Деталі помилки: {e}")
    except Exception as e:
        print(f"Виникла неочікувана помилка: {e}")


student_2_name = "Пікульов І.Ю."
student_2_answer = (
    "Режим 'w' (write) створює новий файл або перезаписує існуючий, стираючи всі попередні дані.\n"
    "Режим 'a' (append) відкриває файл для дописування — новий текст додається в кінець без втрати старих даних.\n"
    "Режим 'w' доцільно використовувати для створення нового файлу або повного оновлення вмісту,\n"
    "а 'a' — коли потрібно додати нову інформацію, зберігаючи попередню."
)

student_2_question = (
    "Які основні методи читання даних з файлу існують у Python (read, readline, readlines)? "
    "Чим вони відрізняються між собою?"
)

add_answer_and_question(student_2_name, student_2_answer, student_2_question)


# Код, написаний Студентом 3: Могилььний Дмтро КН-44/1
def add_next_answer_and_question(student_name, answer, next_question):
    """
    Функція для додавання відповіді третього студента та нового питання.
    
    Аргументи:
    student_name (str): Прізвище та ініціали студента.
    answer (str): Відповідь на питання попереднього студента.
    next_question (str): Питання для наступного студента.
    
    Продовжуємо використовувати режим 'a' (append) для додавання даних у кінець файлу.
    """
    try:
        with open(FILENAME, "a", encoding="utf-8") as file:
            print(f"Файл '{FILENAME}' відкрито в режимі 'a' для додавання записів.")
            
            file.write(f"Студент: {student_name}\n")
            file.write("="*25 + "\n")
            file.write(f"Відповідь:\n{answer}\n\n")
            file.write(f"Питання для наступного студента:\n{next_question}\n\n")
            
            print(f"Дані від студента '{student_name}' успішно додано до файлу.")
    
    except IOError as e:
        print(f"ПОМИЛКА! Не вдалося записати у файл '{FILENAME}'.")
        print(f"Деталі помилки: {e}")
    except Exception as e:
        print(f"Виникла неочікувана помилка: {e}")

# Дані студента
student_3_name = "[Студент: Могильний Д.В.]"
student_3_answer = (
    "Основні методи читання даних з файлу в Python:\n"
    "1. read() - читає весь вміст файлу як один рядок\n"
    "2. readline() - читає один рядок з файлу\n"
    "3. readlines() - читає всі рядки файлу та повертає список рядків\n\n"
    "Відмінності між ними:\n"
    "- read() повертає весь вміст файлу як один рядок\n"
    "- readline() читає по одному рядку за раз, корисний для великих файлів\n"
    "- readlines() повертає список, де кожен елемент - окремий рядок з файлу\n"
    "read() та readlines() завантажують весь файл у пам'ять, тому для великих файлів\n"
    "краще використовувати readline() у циклі або ітерацію по файлу безпосередньо."
)

student_3_question = (
    "Що таке обробка винятків (exceptions) в Python? Які основні блоки try-except "
    "використовуються для обробки помилок і яка їхня структура?"
)

# Виклик функції для додавання відповіді
add_next_answer_and_question(student_3_name, student_3_answer, student_3_question)

print("Робота студента 3 завершена успішно!")

# Код, написаний Студентом 4: Мигаль Яна Іванівна КН-44/1
def add_next_answer_and_question_4(student_name, answer, next_question):
    """
    Функція для додавання відповіді четвертого студента та нового питання.
    
    Аргументи:
    student_name (str): Прізвище та ініціали студента.
    answer (str): Відповідь на питання попереднього студента.
    next_question (str): Питання для наступного студента.
    
    Використовується режим 'a' (append), який додає нові записи у кінець файлу.
    """
    try:
        with open(FILENAME, "a", encoding="utf-8") as file:
            print(f"Файл '{FILENAME}' відкрито в режимі 'a' для додавання записів.")
            
            file.write(f"Студент: {student_name}\n")
            file.write("="*25 + "\n")
            file.write(f"Відповідь:\n{answer}\n\n")
            file.write(f"Питання для наступного студента:\n{next_question}\n\n")
            
            print(f"Дані від студента '{student_name}' успішно додано до файлу.")
    except IOError as e:
        print(f"ПОМИЛКА! Не вдалося записати у файл '{FILENAME}'.")
        print(f"Деталі помилки: {e}")
    except Exception as e:
        print(f"Виникла неочікувана помилка: {e}")

# --- Дані студента 4 ---
student_4_name = "[Студент: Мигаль Я.І.]"
student_4_answer = (
    "Обробка винятків (exceptions) у Python дозволяє передбачити та коректно обробити помилки, "
    "що виникають під час виконання програми. Вона запобігає аварійному завершенню роботи коду.\n\n"
    "Основна структура обробки помилок виглядає так:\n"
    "try:\n"
    "    # код, який може викликати помилку\n"
    "except ТипПомилки:\n"
    "    # дії у разі виникнення цієї помилки\n"
    "else:\n"
    "    # виконується, якщо помилок не було\n"
    "finally:\n"
    "    # виконується завжди, незалежно від результату\n\n"
    "Таким чином, блоки try-except дозволяють керовано реагувати на помилки і робити програму більш надійною."
)

student_4_question = (
    "Яка різниця між оператором 'with open()' та звичайним відкриттям файлу через 'open()' без контекстного менеджера? "
    "Які переваги дає використання 'with' при роботі з файлами у Python?"
)

# Виклик функції
add_next_answer_and_question_4(student_4_name, student_4_answer, student_4_question)

print("Робота студента 4 завершена успішно!")
